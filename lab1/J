#include <iostream>
#include <stack>
#include <vector>
#include <deque>
#include <string>

using namespace std;

int toint(string x) {
    int res = 0;

    for(int i = 0; i<x.size(); i++) {
        res*=10;
        res+=int(x[i])-48;

    }
    return res;
}


int main() {

    deque<int> nums;
    vector<string> all;

    string c;

    while (true) {
        cin >> c;
        if(c == "!") {
            break;
        }
        all.push_back(c);
    }

    for(int i = 0; i < all.size(); i+=2) {
        if (all[i] == "!") {
            break;
        }

        if (all[i] == "+") {
            nums.push_front(toint(all[i+1]));
        }

        else if (all[i] == "-") {
            nums.push_back(toint(all[i+1]));
        }

        else if (all[i] == "*") {
            if(nums.empty()) {
                cout<<"error"<< endl;
            }
            else {
                cout << nums.front() + nums.back() << endl;
                if(nums.size() == 1) {
                    nums.pop_front();

                }

                else {
                    nums.pop_front();
                    nums.pop_back();
                }
            }
            i--;
        }
    }

    




   
    


    return 0;

}